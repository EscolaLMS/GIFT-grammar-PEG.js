"use strict";function peg$subclass(r,t){function e(){this.constructor=r}e.prototype=t.prototype,r.prototype=new e}function peg$SyntaxError(r,t,e,n){this.message=r,this.expected=t,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}function peg$parse(h,r){r=void 0!==r?r:{};var t,p={},e={GIFTQuestions:Yt},n=Yt,u=function(r){return r},c=Jt("Description"),o=function(r){return ye("Description",null,r,!1)},a="{",i=zt("{",!1),s="}",l=zt("}",!1),f=function(r,t,e,n){var u=t+(null!=n?" _____ "+n:""),c=ye(e.type,r,u,null!=n);return c=function(r,t){switch(r.globalFeedback=t.globalFeedback,t.type){case"TF":r.isTrue=t.isTrue,r.incorrectFeedback=t.feedback[1],r.correctFeedback=t.feedback[2];break;case"MC":case"Numerical":r.choices=t.choices;break;case"Matching":r.matchPairs=t.matchPairs}return r}(c,e)},d=Jt("{= match1 -> Match1\n...}"),g=function(r,t){return{type:"Matching",matchPairs:r,globalFeedback:t}},A=Jt("matches"),v=function(r){return r},b=Jt("match"),C="=",m=zt("=",!1),y="->",x=zt("->",!1),w=function(r,t){return{subquestion:r,subanswer:t}},F=Jt("{T} or {F} or {True} or {False}"),k=function(r,t,e){return{type:"TF",isTrue:r,feedback:t,globalFeedback:e}},E=function(r){return r},S="true",T=zt("TRUE",!0),$="t",M=zt("T",!0),_=function(){return!0},L="false",j=zt("FALSE",!0),N="f",R=zt("F",!0),q=function(){return!1},P=Jt("{=correct choice ~incorrect choice ... }"),D=function(r,t){return{type:"MC",choices:r,globalFeedback:t}},I=Jt("Choices"),Q=function(r){return r},U=Jt("Choice"),Z=/^[=~]/,G=Bt(["=","~"],!1,!1),H=function(r,t){return r={isCorrect:"="==r[0],weight:r[1],text:r[2],feedback:t}},O=Jt("(weight)"),z="%",B=zt("%",!1),J=/^[\-]/,K=Bt(["-"],!1,!1),V=function(r){return parseInt(r.join(""),10)},W=Jt("(percent)"),X="100",Y=zt("100",!1),rr=/^[1-9]/,tr=Bt([["1","9"]],!1,!1),er=/^[0-9]/,nr=Bt([["0","9"]],!1,!1),ur=function(){return h.substring(Ut,Qt)},cr=Jt("(feedback)"),or="#",ar=zt("#",!1),ir=function(r){return r},sr=Jt("Essay question { ... }"),lr="",fr=function(r){return{type:"Essay",globalFeedback:r}},hr=Jt("{#... }"),pr=function(r,t){return{type:"Numerical",choices:r,globalFeedback:t}},dr=Jt("Numerical Answers"),gr=Jt("Multiple Numerical Choices"),Ar=Jt("Numerical Choice"),vr=Jt("Single numeric answer"),br=Jt("(number with range)"),Cr=":",mr=zt(":",!1),yr=function(r,t){return{type:"range",number:r,range:t}},xr=Jt("(number with high-low)"),wr="..",Fr=zt("..",!1),kr=function(r,t){return{type:"high-low",numberHigh:t,numberLow:r}},Er=Jt("(number answer)"),Sr=function(r){return{type:"simple",number:r}},Tr=Jt(":: Title ::"),$r="::",Mr=zt("::",!1),_r=function(r){return r},Lr=Jt("Question stem"),jr=function(r){return r},Nr=Jt("(blank line separator)"),Rr=Jt("(text)"),qr=function(r){return r.join("").trim().replace(/\s\s+/g," ")},Pr=Jt("(text character)"),Dr=Jt("(escape character)"),Ir="\\",Qr=zt("\\",!1),Ur=Jt("escape sequence"),Zr="~",Gr=zt("~",!1),Hr="[",Or=zt("[",!1),zr="]",Br=zt("]",!1),Jr=function(r){return r},Kr=Jt(""),Vr=/^[\x80-\u024F]/,Wr=Bt([["","ɏ"]],!1,!1),Xr=/^[A-Z]/i,Yr=Bt([["A","Z"]],!1,!0),rt=" ",tt=zt(" ",!1),et=/^[.`+><()!?'"%,;$&\^@_|]/,nt=Bt([".","`","+",">","<","(",")","!","?","'",'"',"%",",",";","$","&","^","@","_","|"],!1,!1),ut="/",ct=zt("/",!1),ot=function(){return"/"},at="*",it=zt("*",!1),st="-",lt=zt("-",!1),ft=">",ht=zt(">",!1),pt=function(){return"-"},dt=function(){return" "},gt=function(r,t){return parseFloat(r.join("")+t)},At=".",vt=zt(".",!1),bt=function(r){return"."+r.join("")},Ct="####",mt=zt("####",!1),yt=function(r){return r},xt=Jt("(whitespace)"),wt="[markdown]",Ft=zt("[markdown]",!1),kt=Jt("(comment)"),Et="//",St=zt("//",!1),Tt={type:"any"},$t=Jt("(space)"),Mt="\t",_t=zt("\t",!1),Lt=Jt("(end of line)"),jt="\r\n",Nt=zt("\r\n",!1),Rt="\n",qt=zt("\n",!1),Pt="\r",Dt=zt("\r",!1),It=function(){return"EOF"},Qt=0,Ut=0,Zt=[{line:1,column:1}],Gt=0,Ht=[],Ot=0;if("startRule"in r){if(!(r.startRule in e))throw new Error("Can't start parsing from rule \""+r.startRule+'".');n=e[r.startRule]}function zt(r,t){return{type:"literal",text:r,ignoreCase:t}}function Bt(r,t,e){return{type:"class",parts:r,inverted:t,ignoreCase:e}}function Jt(r){return{type:"other",description:r}}function Kt(r){var t,e=Zt[r];if(e)return e;for(t=r-1;!Zt[t];)t--;for(e={line:(e=Zt[t]).line,column:e.column};t<r;)10===h.charCodeAt(t)?(e.line++,e.column=1):e.column++,t++;return Zt[r]=e}function Vt(r,t){var e=Kt(r),n=Kt(t);return{start:{offset:r,line:e.line,column:e.column},end:{offset:t,line:n.line,column:n.column}}}function Wt(r){Qt<Gt||(Gt<Qt&&(Gt=Qt,Ht=[]),Ht.push(r))}function Xt(r,t,e){return new peg$SyntaxError(peg$SyntaxError.buildMessage(r,t),r,t,e)}function Yt(){var r,t,e;if(r=Qt,ge()!==p){if(t=[],(e=re())===p&&(e=te()),e!==p)for(;e!==p;)t.push(e),(e=re())===p&&(e=te());else t=p;t!==p&&(e=ge())!==p?(Ut=r,r=u(t)):(Qt=r,r=p)}else Qt=r,r=p;return r}function re(){var r,t;return Ot++,r=Qt,(t=le())!==p&&se()!==p?(Ut=r,r=t=o(t)):(Qt=r,r=p),Ot--,r===p&&(t=p,0===Ot&&Wt(c)),r}function te(){var r,t,e,n,u,c,o;return r=Qt,(t=function(){var r,t,e,n,u;Ot++,r=Qt,(t=ge())!==p?(h.substr(Qt,2)===$r?(e=$r,Qt+=2):(e=p,0===Ot&&Wt(Mr)),e!==p&&(n=le())!==p?(h.substr(Qt,2)===$r?(u=$r,Qt+=2):(u=p,0===Ot&&Wt(Mr)),u!==p?(Ut=r,t=_r(n),r=t):(Qt=r,r=p)):(Qt=r,r=p)):(Qt=r,r=p);Ot--,r===p&&(t=p,0===Ot&&Wt(Tr));return r}())===p&&(t=null),t!==p&&ge()!==p&&(e=ie())!==p&&ge()!==p?(123===h.charCodeAt(Qt)?(n=a,Qt++):(n=p,0===Ot&&Wt(i)),n!==p?((u=function(){var r,t,e;Ot++,r=Qt,(t=function(){var r,t,e;if(Ot++,r=Qt,t=[],(e=ee())!==p)for(;e!==p;)t.push(e),e=ee();else t=p;return t!==p&&(Ut=r,t=v(t)),Ot--,(r=t)===p&&(t=p,0===Ot&&Wt(A)),r}())!==p&&ge()!==p?((e=de())===p&&(e=null),e!==p&&ge()!==p?(Ut=r,t=g(t,e),r=t):(Qt=r,r=p)):(Qt=r,r=p);Ot--,r===p&&(t=p,0===Ot&&Wt(d));return r}())===p&&(u=function(){var r,t,e,n,u,c;Ot++,r=Qt,l=o=Qt,h.substr(Qt,4).toLowerCase()===S?(f=h.substr(Qt,4),Qt+=4):(f=p,0===Ot&&Wt(T)),f===p&&(h.substr(Qt,1).toLowerCase()===$?(f=h.charAt(Qt),Qt++):(f=p,0===Ot&&Wt(M))),f!==p&&(Ut=l,f=_()),(a=l=f)===p&&(i=Qt,h.substr(Qt,5).toLowerCase()===L?(s=h.substr(Qt,5),Qt+=5):(s=p,0===Ot&&Wt(j)),s===p&&(h.substr(Qt,1).toLowerCase()===N?(s=h.charAt(Qt),Qt++):(s=p,0===Ot&&Wt(R))),s!==p&&(Ut=i,s=q()),a=i=s),a!==p&&(Ut=o,a=E(a)),(t=o=a)!==p&&ge()!==p?(e=Qt,(n=ge())!==p?((u=ce())===p&&(u=null),u!==p?((c=ce())===p&&(c=null),c!==p?e=n=[n,u,c]:(Qt=e,e=p)):(Qt=e,e=p)):(Qt=e,e=p),e!==p&&(n=ge())!==p?((u=de())===p&&(u=null),u!==p?(Ut=r,t=k(t,e,u),r=t):(Qt=r,r=p)):(Qt=r,r=p)):(Qt=r,r=p);var o,a,i,s,l,f;Ot--,r===p&&(t=p,0===Ot&&Wt(F));return r}())===p&&(u=function(){var r,t,e;Ot++,r=Qt,(t=function(){var r,t,e;if(Ot++,r=Qt,t=[],(e=ne())!==p)for(;e!==p;)t.push(e),e=ne();else t=p;return t!==p&&(Ut=r,t=Q(t)),Ot--,(r=t)===p&&(t=p,0===Ot&&Wt(I)),r}())!==p&&ge()!==p?((e=de())===p&&(e=null),e!==p&&ge()!==p?(Ut=r,t=D(t,e),r=t):(Qt=r,r=p)):(Qt=r,r=p);Ot--,r===p&&(t=p,0===Ot&&Wt(P));return r}())===p&&(u=function(){var r,t,e,n;Ot++,r=Qt,35===h.charCodeAt(Qt)?(t=or,Qt++):(t=p,0===Ot&&Wt(ar));t!==p&&ge()!==p&&(e=function(){var r;Ot++,(r=function(){var r,t,e;if(Ot++,r=Qt,t=[],(e=oe())!==p)for(;e!==p;)t.push(e),e=oe();else t=p;return t!==p&&(Ut=r,t=Q(t)),Ot--,(r=t)===p&&(t=p,0===Ot&&Wt(gr)),r}())===p&&(r=ae());Ot--,r===p&&(p,0===Ot&&Wt(dr));return r}())!==p&&ge()!==p?((n=de())===p&&(n=null),n!==p?(Ut=r,t=pr(e,n),r=t):(Qt=r,r=p)):(Qt=r,r=p);Ot--,r===p&&(t=p,0===Ot&&Wt(hr));return r}())===p&&(u=function(){var r,t,e;Ot++,r=Qt,(t=lr)!==p&&ge()!==p?((e=de())===p&&(e=null),e!==p&&ge()!==p?(Ut=r,t=fr(e),r=t):(Qt=r,r=p)):(Qt=r,r=p);Ot--,r===p&&(t=p,0===Ot&&Wt(sr));return r}()),u!==p?(125===h.charCodeAt(Qt)?(c=s,Qt++):(c=p,0===Ot&&Wt(l)),c!==p&&ge()!==p?((o=ie())===p&&(o=null),o!==p&&se()!==p?(Ut=r,r=t=f(t,e,u,o)):(Qt=r,r=p)):(Qt=r,r=p)):(Qt=r,r=p)):(Qt=r,r=p)):(Qt=r,r=p),r}function ee(){var r,t,e,n,u;return Ot++,r=Qt,ge()!==p?(61===h.charCodeAt(Qt)?(t=C,Qt++):(t=p,0===Ot&&Wt(m)),t!==p&&ge()!==p&&(e=le())!==p&&ge()!==p?(h.substr(Qt,2)===y?(n=y,Qt+=2):(n=p,0===Ot&&Wt(x)),n!==p&&ge()!==p&&(u=le())!==p&&ge()!==p?(Ut=r,r=w(e,u)):(Qt=r,r=p)):(Qt=r,r=p)):(Qt=r,r=p),Ot--,r===p&&(p,0===Ot&&Wt(b)),r}function ne(){var r,t,e,n,u;return Ot++,r=Qt,ge()!==p?(t=Qt,Z.test(h.charAt(Qt))?(e=h.charAt(Qt),Qt++):(e=p,0===Ot&&Wt(G)),e!==p?((n=ue())===p&&(n=null),n!==p&&(u=le())!==p?t=e=[e,n,u]:(Qt=t,t=p)):(Qt=t,t=p),t!==p?((e=ce())===p&&(e=null),e!==p&&(n=ge())!==p?(Ut=r,r=H(t,e)):(Qt=r,r=p)):(Qt=r,r=p)):(Qt=r,r=p),Ot--,r===p&&(p,0===Ot&&Wt(U)),r}function ue(){var r,t,e,n,u;return Ot++,r=Qt,37===h.charCodeAt(Qt)?(t=z,Qt++):(t=p,0===Ot&&Wt(B)),t!==p?(e=Qt,J.test(h.charAt(Qt))?(n=h.charAt(Qt),Qt++):(n=p,0===Ot&&Wt(K)),n===p&&(n=null),n!==p&&(u=function(){var r,t,e;Ot++,h.substr(Qt,3)===X?(r=X,Qt+=3):(r=p,0===Ot&&Wt(Y));r===p&&(r=Qt,rr.test(h.charAt(Qt))?(t=h.charAt(Qt),Qt++):(t=p,0===Ot&&Wt(tr)),t!==p?(er.test(h.charAt(Qt))?(e=h.charAt(Qt),Qt++):(e=p,0===Ot&&Wt(nr)),e===p&&(e=null),e!==p?(Ut=r,t=ur(),r=t):(Qt=r,r=p)):(Qt=r,r=p));Ot--,r===p&&(t=p,0===Ot&&Wt(W));return r}())!==p?e=n=[n,u]:(Qt=e,e=p),e!==p?(37===h.charCodeAt(Qt)?(n=z,Qt++):(n=p,0===Ot&&Wt(B)),n!==p?(Ut=r,r=t=V(e)):(Qt=r,r=p)):(Qt=r,r=p)):(Qt=r,r=p),Ot--,r===p&&(t=p,0===Ot&&Wt(O)),r}function ce(){var r,t,e;return Ot++,r=Qt,35===h.charCodeAt(Qt)?(t=or,Qt++):(t=p,0===Ot&&Wt(ar)),t!==p&&(e=le())!==p?(Ut=r,r=t=ir(e)):(Qt=r,r=p),Ot--,r===p&&(t=p,0===Ot&&Wt(cr)),r}function oe(){var r,t,e,n,u;return Ot++,r=Qt,ge()!==p?(t=Qt,Z.test(h.charAt(Qt))?(e=h.charAt(Qt),Qt++):(e=p,0===Ot&&Wt(G)),e!==p?((n=ue())===p&&(n=null),n!==p&&(u=ae())!==p?t=e=[e,n,u]:(Qt=t,t=p)):(Qt=t,t=p),t!==p&&(e=ge())!==p?((n=ce())===p&&(n=null),n!==p&&(u=ge())!==p?(Ut=r,r=H(t,n)):(Qt=r,r=p)):(Qt=r,r=p)):(Qt=r,r=p),Ot--,r===p&&(p,0===Ot&&Wt(Ar)),r}function ae(){var r;return Ot++,(r=function(){var r,t,e,n;Ot++,r=Qt,(t=pe())!==p?(58===h.charCodeAt(Qt)?(e=Cr,Qt++):(e=p,0===Ot&&Wt(mr)),e!==p&&(n=pe())!==p?(Ut=r,t=yr(t,n),r=t):(Qt=r,r=p)):(Qt=r,r=p);Ot--,r===p&&(t=p,0===Ot&&Wt(br));return r}())===p&&(r=function(){var r,t,e,n;Ot++,r=Qt,(t=pe())!==p?(h.substr(Qt,2)===wr?(e=wr,Qt+=2):(e=p,0===Ot&&Wt(Fr)),e!==p&&(n=pe())!==p?(Ut=r,t=kr(t,n),r=t):(Qt=r,r=p)):(Qt=r,r=p);Ot--,r===p&&(t=p,0===Ot&&Wt(xr));return r}())===p&&(r=function(){var r,t;Ot++,r=Qt,(t=pe())!==p&&(Ut=r,t=Sr(t));Ot--,(r=t)===p&&(t=p,0===Ot&&Wt(Er));return r}()),Ot--,r===p&&(p,0===Ot&&Wt(vr)),r}function ie(){var r,t;return Ot++,r=Qt,(t=le())!==p&&(Ut=r,t=jr(t)),Ot--,(r=t)===p&&(t=p,0===Ot&&Wt(Lr)),r}function se(){var r,t,e,n;if(Ot++,r=Qt,(t=Ce())!==p){if(e=[],(n=Ce())!==p)for(;n!==p;)e.push(n),n=Ce();else e=p;e!==p?r=t=[t,e]:(Qt=r,r=p)}else Qt=r,r=p;return r===p&&(r=Qt,(t=Ce())===p&&(t=null),t!==p&&(e=me())!==p?r=t=[t,e]:(Qt=r,r=p)),Ot--,r===p&&(t=p,0===Ot&&Wt(Nr)),r}function le(){var r,t,e;if(Ot++,r=Qt,t=[],(e=fe())!==p)for(;e!==p;)t.push(e),e=fe();else t=p;return t!==p&&(Ut=r,t=qr(t)),Ot--,(r=t)===p&&(t=p,0===Ot&&Wt(Rr)),r}function fe(){var r;return Ot++,(r=function(){var r,t,e,n,u;Ot++,Vr.test(h.charAt(Qt))?(r=h.charAt(Qt),Qt++):(r=p,0===Ot&&Wt(Wr));r===p&&(Xr.test(h.charAt(Qt))?(r=h.charAt(Qt),Qt++):(r=p,0===Ot&&Wt(Yr)),r===p&&(er.test(h.charAt(Qt))?(r=h.charAt(Qt),Qt++):(r=p,0===Ot&&Wt(nr)),r===p&&(32===h.charCodeAt(Qt)?(r=rt,Qt++):(r=p,0===Ot&&Wt(tt)),r===p&&(et.test(h.charAt(Qt))?(r=h.charAt(Qt),Qt++):(r=p,0===Ot&&Wt(nt)),r===p&&(t=r=Qt,47===h.charCodeAt(Qt)?(e=ut,Qt++):(e=p,0===Ot&&Wt(ct)),e!==p?(n=Qt,Ot++,47===h.charCodeAt(Qt)?(u=ut,Qt++):(u=p,0===Ot&&Wt(ct)),Ot--,u===p?n=void 0:(Qt=n,n=p),n!==p?t=e=[e,n]:(Qt=t,t=p)):(Qt=t,t=p),t!==p&&(Ut=r,t=ot()),(r=t)===p&&(42===h.charCodeAt(Qt)?(r=at,Qt++):(r=p,0===Ot&&Wt(it)),r===p&&(t=r=Qt,45===h.charCodeAt(Qt)?(e=st,Qt++):(e=p,0===Ot&&Wt(lt)),e!==p?(n=Qt,Ot++,62===h.charCodeAt(Qt)?(u=ft,Qt++):(u=p,0===Ot&&Wt(ht)),Ot--,u===p?n=void 0:(Qt=n,n=p),n!==p?t=e=[e,n]:(Qt=t,t=p)):(Qt=t,t=p),t!==p&&(Ut=r,t=pt()),(r=t)===p&&(t=r=Qt,(e=Ce())!==p?(n=Qt,Ot++,u=Ce(),Ot--,u===p?n=void 0:(Qt=n,n=p),n!==p?t=e=[e,n]:(Qt=t,t=p)):(Qt=t,t=p),t!==p&&(Ut=r,t=dt()),r=t))))))));Ot--,r===p&&(t=p,0===Ot&&Wt(Kr));return r}())===p&&(r=function(){var r,t,e;Ot++,r=Qt,(t=he())!==p?(92===h.charCodeAt(Qt)?(e=Ir,Qt++):(e=p,0===Ot&&Wt(Qr)),e===p&&(58===h.charCodeAt(Qt)?(e=Cr,Qt++):(e=p,0===Ot&&Wt(mr)),e===p&&(126===h.charCodeAt(Qt)?(e=Zr,Qt++):(e=p,0===Ot&&Wt(Gr)),e===p&&(61===h.charCodeAt(Qt)?(e=C,Qt++):(e=p,0===Ot&&Wt(m)),e===p&&(35===h.charCodeAt(Qt)?(e=or,Qt++):(e=p,0===Ot&&Wt(ar)),e===p&&(91===h.charCodeAt(Qt)?(e=Hr,Qt++):(e=p,0===Ot&&Wt(Or)),e===p&&(93===h.charCodeAt(Qt)?(e=zr,Qt++):(e=p,0===Ot&&Wt(Br)),e===p&&(123===h.charCodeAt(Qt)?(e=a,Qt++):(e=p,0===Ot&&Wt(i)),e===p&&(125===h.charCodeAt(Qt)?(e=s,Qt++):(e=p,0===Ot&&Wt(l)))))))))),e!==p?(Ut=r,t=Jr(e),r=t):(Qt=r,r=p)):(Qt=r,r=p);Ot--,r===p&&(t=p,0===Ot&&Wt(Ur));return r}())===p&&(r=he()),Ot--,r===p&&(p,0===Ot&&Wt(Pr)),r}function he(){var r;return Ot++,92===h.charCodeAt(Qt)?(r=Ir,Qt++):(r=p,0===Ot&&Wt(Qr)),Ot--,r===p&&(p,0===Ot&&Wt(Dr)),r}function pe(){var r,t,e;if(r=Qt,t=[],er.test(h.charAt(Qt))?(e=h.charAt(Qt),Qt++):(e=p,0===Ot&&Wt(nr)),e!==p)for(;e!==p;)t.push(e),er.test(h.charAt(Qt))?(e=h.charAt(Qt),Qt++):(e=p,0===Ot&&Wt(nr));else t=p;return t!==p?((e=function(){var r,t,e,n,u;r=Qt,46===h.charCodeAt(Qt)?(t=At,Qt++):(t=p,0===Ot&&Wt(vt));if(t!==p)if(e=Qt,Ot++,46===h.charCodeAt(Qt)?(n=At,Qt++):(n=p,0===Ot&&Wt(vt)),Ot--,n===p?e=void 0:(Qt=e,e=p),e!==p){for(n=[],er.test(h.charAt(Qt))?(u=h.charAt(Qt),Qt++):(u=p,0===Ot&&Wt(nr));u!==p;)n.push(u),er.test(h.charAt(Qt))?(u=h.charAt(Qt),Qt++):(u=p,0===Ot&&Wt(nr));n!==p?(Ut=r,t=bt(n),r=t):(Qt=r,r=p)}else Qt=r,r=p;else Qt=r,r=p;return r}())===p&&(e=null),e!==p?(Ut=r,r=t=gt(t,e)):(Qt=r,r=p)):(Qt=r,r=p),r}function de(){var r,t,e;return r=Qt,h.substr(Qt,4)===Ct?(t=Ct,Qt+=4):(t=p,0===Ot&&Wt(mt)),t!==p&&ge()!==p&&(e=le())!==p&&ge()!==p?(Ut=r,r=t=yt(e)):(Qt=r,r=p),r}function ge(){var r,t,e,n,u;for(Ot++,r=[],t=Qt,(e=Ce())!==p?(n=Qt,Ot++,u=Ce(),Ot--,u===p?n=void 0:(Qt=n,n=p),n!==p?t=e=[e,n]:(Qt=t,t=p)):(Qt=t,t=p),t===p&&(t=be())===p&&(t=ve())===p&&(t=Ae());t!==p;)r.push(t),t=Qt,(e=Ce())!==p?(n=Qt,Ot++,u=Ce(),Ot--,u===p?n=void 0:(Qt=n,n=p),n!==p?t=e=[e,n]:(Qt=t,t=p)):(Qt=t,t=p),t===p&&(t=be())===p&&(t=ve())===p&&(t=Ae());return Ot--,r===p&&(t=p,0===Ot&&Wt(xt)),r}function Ae(){var r;return h.substr(Qt,10)===wt?(r=wt,Qt+=10):(r=p,0===Ot&&Wt(Ft)),r}function ve(){var r,t,e,n,u,c;if(Ot++,r=Qt,h.substr(Qt,2)===Et?(t=Et,Qt+=2):(t=p,0===Ot&&Wt(St)),t!==p){for(e=[],u=n=Qt,Ot++,c=Ce(),Ot--,c===p?u=void 0:(Qt=u,u=p),u!==p?(h.length>Qt?(c=h.charAt(Qt),Qt++):(c=p,0===Ot&&Wt(Tt)),c!==p?n=u=[u,c]:(Qt=n,n=p)):(Qt=n,n=p);n!==p;)e.push(n),u=n=Qt,Ot++,c=Ce(),Ot--,c===p?u=void 0:(Qt=u,u=p),u!==p?(h.length>Qt?(c=h.charAt(Qt),Qt++):(c=p,0===Ot&&Wt(Tt)),c!==p?n=u=[u,c]:(Qt=n,n=p)):(Qt=n,n=p);e!==p?((n=Ce())===p&&(n=me()),n!==p?r=t=[t,e,n]:(Qt=r,r=p)):(Qt=r,r=p)}else Qt=r,r=p;return Ot--,r===p&&(t=p,0===Ot&&Wt(kt)),r}function be(){var r;return Ot++,32===h.charCodeAt(Qt)?(r=rt,Qt++):(r=p,0===Ot&&Wt(tt)),r===p&&(9===h.charCodeAt(Qt)?(r=Mt,Qt++):(r=p,0===Ot&&Wt(_t))),Ot--,r===p&&(p,0===Ot&&Wt($t)),r}function Ce(){var r;return Ot++,h.substr(Qt,2)===jt?(r=jt,Qt+=2):(r=p,0===Ot&&Wt(Nt)),r===p&&(10===h.charCodeAt(Qt)?(r=Rt,Qt++):(r=p,0===Ot&&Wt(qt)),r===p&&(13===h.charCodeAt(Qt)?(r=Pt,Qt++):(r=p,0===Ot&&Wt(Dt)))),Ot--,r===p&&(p,0===Ot&&Wt(Lt)),r}function me(){var r,t,e;return t=r=Qt,Ot++,h.length>Qt?(e=h.charAt(Qt),Qt++):(e=p,0===Ot&&Wt(Tt)),Ot--,e===p?t=void 0:(Qt=t,t=p),t!==p&&(Ut=r,t=It()),r=t}function ye(r,t,e,n){return{type:r,title:t,stem:e,hasEmbeddedAnswers:n}}if((t=n())!==p&&Qt===h.length)return t;throw t!==p&&Qt<h.length&&Wt({type:"end"}),Xt(Ht,Gt<h.length?h.charAt(Gt):null,Gt<h.length?Vt(Gt,Gt+1):Vt(Gt,Gt))}peg$subclass(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(r,t){var e,c={literal:function(r){return'"'+u(r.text)+'"'},class:function(r){var t,e="";for(t=0;t<r.parts.length;t++)e+=r.parts[t]instanceof Array?o(r.parts[t][0])+"-"+o(r.parts[t][1]):o(r.parts[t]);return"["+(r.inverted?"^":"")+e+"]"},any:function(r){return"any character"},end:function(r){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function u(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+n(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+n(r)})}function o(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+n(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+n(r)})}return"Expected "+function(r){var t,e,n,u=new Array(r.length);for(t=0;t<r.length;t++)u[t]=(n=r[t],c[n.type](n));if(u.sort(),0<u.length){for(e=t=1;t<u.length;t++)u[t-1]!==u[t]&&(u[e]=u[t],e++);u.length=e}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(r)+" but "+((e=t)?'"'+u(e)+'"':"end of input")+" found."},module.exports={SyntaxError:peg$SyntaxError,parse:peg$parse};
