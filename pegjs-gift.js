"use strict";function peg$subclass(r,t){function e(){this.constructor=r}e.prototype=t.prototype,r.prototype=new e}function peg$SyntaxError(r,t,e,n){this.message=r,this.expected=t,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}function peg$parse(h,r){r=void 0!==r?r:{};var t,p={},e={GIFTQuestions:zt},n=zt,u=function(r){return r},c=Ut("Description"),a=function(r){return de("Description",null,r,!1)},o="{",i=It("{",!1),s="}",l=It("}",!1),f=function(r,t,e,n){var u=t+(null!=n?" _____ "+n:""),c=de(e.type,r,u,null!=n);return c=function(r,t){switch(r.globalFeedback=t.globalFeedback,t.type){case"TF":r.isTrue=t.isTrue,r.incorrectFeedback=t.feedback[1],r.correctFeedback=t.feedback[2];break;case"MC":case"Numerical":r.choices=t.choices;break;case"Matching":r.matchPairs=t.matchPairs}return r}(c,e)},d=Ut("{= match1 -> Match1\n...}"),g=function(r,t){return{type:"Matching",matchPairs:r,globalFeedback:t}},A=Ut("matches"),v=function(r){return r},b=Ut("match"),C="=",m=It("=",!1),y="->",x=It("->",!1),w=function(r,t){return{subquestion:r,subanswer:t}},F=Ut("{T} or {F} or {True} or {False}"),k=function(r,t,e){return{type:"TF",isTrue:r,feedback:t,globalFeedback:e}},E=function(r){return r},S="true",T=It("TRUE",!0),$="t",M=It("T",!0),L=function(){return!0},j="false",N=It("FALSE",!0),R="f",_=It("F",!0),q=function(){return!1},P=Ut("{=correct choice ~incorrect choice ... }"),D=function(r,t){return{type:"MC",choices:r,globalFeedback:t}},I=Ut("Choices"),Q=function(r){return r},U=Ut("Choice"),Z=/^[=~]/,G=Qt(["=","~"],!1,!1),H=function(r,t){return r={isCorrect:"="==r[0],weight:r[1],text:r[2],feedback:t}},O=Ut("(weight)"),z="%",B=It("%",!1),J=/^[\-]/,K=Qt(["-"],!1,!1),V=function(r){return parseInt(r.join(""),10)},W=Ut("(percent)"),X="100",Y=It("100",!1),rr=/^[1-9]/,tr=Qt([["1","9"]],!1,!1),er=/^[0-9]/,nr=Qt([["0","9"]],!1,!1),ur=function(){return h.substring(Rt,Nt)},cr=Ut("(feedback)"),ar="#",or=It("#",!1),ir=function(r){return r},sr=Ut("Essay question { ... }"),lr="",fr=function(r){return{type:"Essay",globalFeedback:r}},hr=Ut("{#... }"),pr=function(r,t){return{type:"Numerical",choices:r,globalFeedback:t}},dr=Ut("Numerical Answers"),gr=Ut("Multiple Numerical Choices"),Ar=Ut("Numerical Choice"),vr=Ut("Single numeric answer"),br=Ut("(number with range)"),Cr=":",mr=It(":",!1),yr=function(r,t){return{type:"range",number:r,range:t}},xr=Ut("(number with high-low)"),wr="..",Fr=It("..",!1),kr=function(r,t){return{type:"high-low",numberHigh:r,numberLow:t}},Er=Ut("(number answer)"),Sr=function(r){return{type:"simple",number:r}},Tr=Ut(":: Title ::"),$r="::",Mr=It("::",!1),Lr=function(r){return r},jr=Ut("Question stem"),Nr=function(r){return r},Rr=Ut("(blank line separator)"),_r=Ut("(text)"),qr=function(r){return r.join("").trim().replace(/\s\s+/g," ")},Pr=Ut("(text character)"),Dr=Ut("(escape character)"),Ir="\\",Qr=It("\\",!1),Ur=Ut("escape sequence"),Zr="~",Gr=It("~",!1),Hr=function(r){return r},Or=Ut(""),zr=/^[\x80-\u024F]/,Br=Qt([["","ɏ"]],!1,!1),Jr=/^[A-Z]/i,Kr=Qt([["A","Z"]],!1,!0),Vr=" ",Wr=It(" ",!1),Xr=/^[.+><()!?'"%,]/,Yr=Qt([".","+",">","<","(",")","!","?","'",'"',"%",","],!1,!1),rt="*",tt=It("*",!1),et="-",nt=It("-",!1),ut=">",ct=It(">",!1),at=function(){return"-"},ot=function(){return" "},it=function(r,t){return parseFloat(r.join("")+t)},st=".",lt=It(".",!1),ft=function(r){return"."+r.join("")},ht="####",pt=It("####",!1),dt=function(r){return r},gt=Ut("(whitespace)"),At="[markdown]",vt=It("[markdown]",!1),bt=Ut("(comment)"),Ct="//",mt=It("//",!1),yt={type:"any"},xt=Ut("(space)"),wt="\t",Ft=It("\t",!1),kt=Ut("(end of line)"),Et="\r\n",St=It("\r\n",!1),Tt="\n",$t=It("\n",!1),Mt="\r",Lt=It("\r",!1),jt=function(){return"EOF"},Nt=0,Rt=0,_t=[{line:1,column:1}],qt=0,Pt=[],Dt=0;if("startRule"in r){if(!(r.startRule in e))throw new Error("Can't start parsing from rule \""+r.startRule+'".');n=e[r.startRule]}function It(r,t){return{type:"literal",text:r,ignoreCase:t}}function Qt(r,t,e){return{type:"class",parts:r,inverted:t,ignoreCase:e}}function Ut(r){return{type:"other",description:r}}function Zt(r){var t,e=_t[r];if(e)return e;for(t=r-1;!_t[t];)t--;for(e={line:(e=_t[t]).line,column:e.column};t<r;)10===h.charCodeAt(t)?(e.line++,e.column=1):e.column++,t++;return _t[r]=e}function Gt(r,t){var e=Zt(r),n=Zt(t);return{start:{offset:r,line:e.line,column:e.column},end:{offset:t,line:n.line,column:n.column}}}function Ht(r){Nt<qt||(qt<Nt&&(qt=Nt,Pt=[]),Pt.push(r))}function Ot(r,t,e){return new peg$SyntaxError(peg$SyntaxError.buildMessage(r,t),r,t,e)}function zt(){var r,t,e;if(r=Nt,ie()!==p){if(t=[],(e=Bt())===p&&(e=Jt()),e!==p)for(;e!==p;)t.push(e),(e=Bt())===p&&(e=Jt());else t=p;t!==p&&(e=ie())!==p?(Rt=r,r=u(t)):(Nt=r,r=p)}else Nt=r,r=p;return r}function Bt(){var r,t;return Dt++,r=Nt,(t=ne())!==p&&ee()!==p?(Rt=r,r=t=a(t)):(Nt=r,r=p),Dt--,r===p&&(t=p,0===Dt&&Ht(c)),r}function Jt(){var r,t,e,n,u,c,a;return r=Nt,(t=function(){var r,t,e,n,u;Dt++,r=Nt,(t=ie())!==p?(h.substr(Nt,2)===$r?(e=$r,Nt+=2):(e=p,0===Dt&&Ht(Mr)),e!==p&&(n=ne())!==p?(h.substr(Nt,2)===$r?(u=$r,Nt+=2):(u=p,0===Dt&&Ht(Mr)),u!==p?(Rt=r,t=Lr(n),r=t):(Nt=r,r=p)):(Nt=r,r=p)):(Nt=r,r=p);Dt--,r===p&&(t=p,0===Dt&&Ht(Tr));return r}())===p&&(t=null),t!==p&&ie()!==p&&(e=te())!==p&&ie()!==p?(123===h.charCodeAt(Nt)?(n=o,Nt++):(n=p,0===Dt&&Ht(i)),n!==p?((u=function(){var r,t,e;Dt++,r=Nt,(t=function(){var r,t,e;if(Dt++,r=Nt,t=[],(e=Kt())!==p)for(;e!==p;)t.push(e),e=Kt();else t=p;return t!==p&&(Rt=r,t=v(t)),Dt--,(r=t)===p&&(t=p,0===Dt&&Ht(A)),r}())!==p&&ie()!==p?((e=oe())===p&&(e=null),e!==p&&ie()!==p?(Rt=r,t=g(t,e),r=t):(Nt=r,r=p)):(Nt=r,r=p);Dt--,r===p&&(t=p,0===Dt&&Ht(d));return r}())===p&&(u=function(){var r,t,e,n,u,c;Dt++,r=Nt,l=a=Nt,h.substr(Nt,4).toLowerCase()===S?(f=h.substr(Nt,4),Nt+=4):(f=p,0===Dt&&Ht(T)),f===p&&(h.substr(Nt,1).toLowerCase()===$?(f=h.charAt(Nt),Nt++):(f=p,0===Dt&&Ht(M))),f!==p&&(Rt=l,f=L()),(o=l=f)===p&&(i=Nt,h.substr(Nt,5).toLowerCase()===j?(s=h.substr(Nt,5),Nt+=5):(s=p,0===Dt&&Ht(N)),s===p&&(h.substr(Nt,1).toLowerCase()===R?(s=h.charAt(Nt),Nt++):(s=p,0===Dt&&Ht(_))),s!==p&&(Rt=i,s=q()),o=i=s),o!==p&&(Rt=a,o=E(o)),(t=a=o)!==p&&ie()!==p?(e=Nt,(n=ie())!==p?((u=Xt())===p&&(u=null),u!==p?((c=Xt())===p&&(c=null),c!==p?e=n=[n,u,c]:(Nt=e,e=p)):(Nt=e,e=p)):(Nt=e,e=p),e!==p&&(n=ie())!==p?((u=oe())===p&&(u=null),u!==p?(Rt=r,t=k(t,e,u),r=t):(Nt=r,r=p)):(Nt=r,r=p)):(Nt=r,r=p);var a,o,i,s,l,f;Dt--,r===p&&(t=p,0===Dt&&Ht(F));return r}())===p&&(u=function(){var r,t,e;Dt++,r=Nt,(t=function(){var r,t,e;if(Dt++,r=Nt,t=[],(e=Vt())!==p)for(;e!==p;)t.push(e),e=Vt();else t=p;return t!==p&&(Rt=r,t=Q(t)),Dt--,(r=t)===p&&(t=p,0===Dt&&Ht(I)),r}())!==p&&ie()!==p?((e=oe())===p&&(e=null),e!==p&&ie()!==p?(Rt=r,t=D(t,e),r=t):(Nt=r,r=p)):(Nt=r,r=p);Dt--,r===p&&(t=p,0===Dt&&Ht(P));return r}())===p&&(u=function(){var r,t,e,n;Dt++,r=Nt,35===h.charCodeAt(Nt)?(t=ar,Nt++):(t=p,0===Dt&&Ht(or));t!==p&&ie()!==p&&(e=function(){var r;Dt++,(r=function(){var r,t,e;if(Dt++,r=Nt,t=[],(e=Yt())!==p)for(;e!==p;)t.push(e),e=Yt();else t=p;return t!==p&&(Rt=r,t=Q(t)),Dt--,(r=t)===p&&(t=p,0===Dt&&Ht(gr)),r}())===p&&(r=re());Dt--,r===p&&(p,0===Dt&&Ht(dr));return r}())!==p&&ie()!==p?((n=oe())===p&&(n=null),n!==p?(Rt=r,t=pr(e,n),r=t):(Nt=r,r=p)):(Nt=r,r=p);Dt--,r===p&&(t=p,0===Dt&&Ht(hr));return r}())===p&&(u=function(){var r,t,e;Dt++,r=Nt,(t=lr)!==p&&ie()!==p?((e=oe())===p&&(e=null),e!==p&&ie()!==p?(Rt=r,t=fr(e),r=t):(Nt=r,r=p)):(Nt=r,r=p);Dt--,r===p&&(t=p,0===Dt&&Ht(sr));return r}()),u!==p?(125===h.charCodeAt(Nt)?(c=s,Nt++):(c=p,0===Dt&&Ht(l)),c!==p&&ie()!==p?((a=te())===p&&(a=null),a!==p&&ee()!==p?(Rt=r,r=t=f(t,e,u,a)):(Nt=r,r=p)):(Nt=r,r=p)):(Nt=r,r=p)):(Nt=r,r=p)):(Nt=r,r=p),r}function Kt(){var r,t,e,n,u;return Dt++,r=Nt,ie()!==p?(61===h.charCodeAt(Nt)?(t=C,Nt++):(t=p,0===Dt&&Ht(m)),t!==p&&ie()!==p&&(e=ne())!==p&&ie()!==p?(h.substr(Nt,2)===y?(n=y,Nt+=2):(n=p,0===Dt&&Ht(x)),n!==p&&ie()!==p&&(u=ne())!==p&&ie()!==p?(Rt=r,r=w(e,u)):(Nt=r,r=p)):(Nt=r,r=p)):(Nt=r,r=p),Dt--,r===p&&(p,0===Dt&&Ht(b)),r}function Vt(){var r,t,e,n,u;return Dt++,r=Nt,ie()!==p?(t=Nt,Z.test(h.charAt(Nt))?(e=h.charAt(Nt),Nt++):(e=p,0===Dt&&Ht(G)),e!==p?((n=Wt())===p&&(n=null),n!==p&&(u=ne())!==p?t=e=[e,n,u]:(Nt=t,t=p)):(Nt=t,t=p),t!==p?((e=Xt())===p&&(e=null),e!==p&&(n=ie())!==p?(Rt=r,r=H(t,e)):(Nt=r,r=p)):(Nt=r,r=p)):(Nt=r,r=p),Dt--,r===p&&(p,0===Dt&&Ht(U)),r}function Wt(){var r,t,e,n,u;return Dt++,r=Nt,37===h.charCodeAt(Nt)?(t=z,Nt++):(t=p,0===Dt&&Ht(B)),t!==p?(e=Nt,J.test(h.charAt(Nt))?(n=h.charAt(Nt),Nt++):(n=p,0===Dt&&Ht(K)),n===p&&(n=null),n!==p&&(u=function(){var r,t,e;Dt++,h.substr(Nt,3)===X?(r=X,Nt+=3):(r=p,0===Dt&&Ht(Y));r===p&&(r=Nt,rr.test(h.charAt(Nt))?(t=h.charAt(Nt),Nt++):(t=p,0===Dt&&Ht(tr)),t!==p?(er.test(h.charAt(Nt))?(e=h.charAt(Nt),Nt++):(e=p,0===Dt&&Ht(nr)),e===p&&(e=null),e!==p?(Rt=r,t=ur(),r=t):(Nt=r,r=p)):(Nt=r,r=p));Dt--,r===p&&(t=p,0===Dt&&Ht(W));return r}())!==p?e=n=[n,u]:(Nt=e,e=p),e!==p?(37===h.charCodeAt(Nt)?(n=z,Nt++):(n=p,0===Dt&&Ht(B)),n!==p?(Rt=r,r=t=V(e)):(Nt=r,r=p)):(Nt=r,r=p)):(Nt=r,r=p),Dt--,r===p&&(t=p,0===Dt&&Ht(O)),r}function Xt(){var r,t,e;return Dt++,r=Nt,35===h.charCodeAt(Nt)?(t=ar,Nt++):(t=p,0===Dt&&Ht(or)),t!==p&&(e=ne())!==p?(Rt=r,r=t=ir(e)):(Nt=r,r=p),Dt--,r===p&&(t=p,0===Dt&&Ht(cr)),r}function Yt(){var r,t,e,n,u;return Dt++,r=Nt,ie()!==p?(t=Nt,Z.test(h.charAt(Nt))?(e=h.charAt(Nt),Nt++):(e=p,0===Dt&&Ht(G)),e!==p?((n=Wt())===p&&(n=null),n!==p&&(u=re())!==p?t=e=[e,n,u]:(Nt=t,t=p)):(Nt=t,t=p),t!==p&&(e=ie())!==p?((n=Xt())===p&&(n=null),n!==p&&(u=ie())!==p?(Rt=r,r=H(t,n)):(Nt=r,r=p)):(Nt=r,r=p)):(Nt=r,r=p),Dt--,r===p&&(p,0===Dt&&Ht(Ar)),r}function re(){var r;return Dt++,(r=function(){var r,t,e,n;Dt++,r=Nt,(t=ae())!==p?(58===h.charCodeAt(Nt)?(e=Cr,Nt++):(e=p,0===Dt&&Ht(mr)),e!==p&&(n=ae())!==p?(Rt=r,t=yr(t,n),r=t):(Nt=r,r=p)):(Nt=r,r=p);Dt--,r===p&&(t=p,0===Dt&&Ht(br));return r}())===p&&(r=function(){var r,t,e,n;Dt++,r=Nt,(t=ae())!==p?(h.substr(Nt,2)===wr?(e=wr,Nt+=2):(e=p,0===Dt&&Ht(Fr)),e!==p&&(n=ae())!==p?(Rt=r,t=kr(t,n),r=t):(Nt=r,r=p)):(Nt=r,r=p);Dt--,r===p&&(t=p,0===Dt&&Ht(xr));return r}())===p&&(r=function(){var r,t;Dt++,r=Nt,(t=ae())!==p&&(Rt=r,t=Sr(t));Dt--,(r=t)===p&&(t=p,0===Dt&&Ht(Er));return r}()),Dt--,r===p&&(p,0===Dt&&Ht(vr)),r}function te(){var r,t;return Dt++,r=Nt,(t=ne())!==p&&(Rt=r,t=Nr(t)),Dt--,(r=t)===p&&(t=p,0===Dt&&Ht(jr)),r}function ee(){var r,t,e,n;if(Dt++,r=Nt,(t=he())!==p){if(e=[],(n=he())!==p)for(;n!==p;)e.push(n),n=he();else e=p;e!==p?r=t=[t,e]:(Nt=r,r=p)}else Nt=r,r=p;return r===p&&(r=Nt,(t=he())===p&&(t=null),t!==p&&(e=pe())!==p?r=t=[t,e]:(Nt=r,r=p)),Dt--,r===p&&(t=p,0===Dt&&Ht(Rr)),r}function ne(){var r,t,e;if(Dt++,r=Nt,t=[],(e=ue())!==p)for(;e!==p;)t.push(e),e=ue();else t=p;return t!==p&&(Rt=r,t=qr(t)),Dt--,(r=t)===p&&(t=p,0===Dt&&Ht(_r)),r}function ue(){var r;return Dt++,(r=function(){var r,t,e,n,u;Dt++,zr.test(h.charAt(Nt))?(r=h.charAt(Nt),Nt++):(r=p,0===Dt&&Ht(Br));r===p&&(Jr.test(h.charAt(Nt))?(r=h.charAt(Nt),Nt++):(r=p,0===Dt&&Ht(Kr)),r===p&&(er.test(h.charAt(Nt))?(r=h.charAt(Nt),Nt++):(r=p,0===Dt&&Ht(nr)),r===p&&(32===h.charCodeAt(Nt)?(r=Vr,Nt++):(r=p,0===Dt&&Ht(Wr)),r===p&&(Xr.test(h.charAt(Nt))?(r=h.charAt(Nt),Nt++):(r=p,0===Dt&&Ht(Yr)),r===p&&(42===h.charCodeAt(Nt)?(r=rt,Nt++):(r=p,0===Dt&&Ht(tt)),r===p&&(t=r=Nt,45===h.charCodeAt(Nt)?(e=et,Nt++):(e=p,0===Dt&&Ht(nt)),e!==p?(n=Nt,Dt++,62===h.charCodeAt(Nt)?(u=ut,Nt++):(u=p,0===Dt&&Ht(ct)),Dt--,u===p?n=void 0:(Nt=n,n=p),n!==p?t=e=[e,n]:(Nt=t,t=p)):(Nt=t,t=p),t!==p&&(Rt=r,t=at()),(r=t)===p&&(t=r=Nt,(e=he())!==p?(n=Nt,Dt++,u=he(),Dt--,u===p?n=void 0:(Nt=n,n=p),n!==p?t=e=[e,n]:(Nt=t,t=p)):(Nt=t,t=p),t!==p&&(Rt=r,t=ot()),r=t)))))));Dt--,r===p&&(t=p,0===Dt&&Ht(Or));return r}())===p&&(r=function(){var r,t,e;Dt++,r=Nt,(t=ce())!==p?(92===h.charCodeAt(Nt)?(e=Ir,Nt++):(e=p,0===Dt&&Ht(Qr)),e===p&&(58===h.charCodeAt(Nt)?(e=Cr,Nt++):(e=p,0===Dt&&Ht(mr)),e===p&&(126===h.charCodeAt(Nt)?(e=Zr,Nt++):(e=p,0===Dt&&Ht(Gr)),e===p&&(61===h.charCodeAt(Nt)?(e=C,Nt++):(e=p,0===Dt&&Ht(m)),e===p&&(35===h.charCodeAt(Nt)?(e=ar,Nt++):(e=p,0===Dt&&Ht(or)),e===p&&(123===h.charCodeAt(Nt)?(e=o,Nt++):(e=p,0===Dt&&Ht(i)),e===p&&(125===h.charCodeAt(Nt)?(e=s,Nt++):(e=p,0===Dt&&Ht(l)))))))),e!==p?(Rt=r,t=Hr(e),r=t):(Nt=r,r=p)):(Nt=r,r=p);Dt--,r===p&&(t=p,0===Dt&&Ht(Ur));return r}())===p&&(r=ce()),Dt--,r===p&&(p,0===Dt&&Ht(Pr)),r}function ce(){var r;return Dt++,92===h.charCodeAt(Nt)?(r=Ir,Nt++):(r=p,0===Dt&&Ht(Qr)),Dt--,r===p&&(p,0===Dt&&Ht(Dr)),r}function ae(){var r,t,e;if(r=Nt,t=[],er.test(h.charAt(Nt))?(e=h.charAt(Nt),Nt++):(e=p,0===Dt&&Ht(nr)),e!==p)for(;e!==p;)t.push(e),er.test(h.charAt(Nt))?(e=h.charAt(Nt),Nt++):(e=p,0===Dt&&Ht(nr));else t=p;return t!==p?((e=function(){var r,t,e,n;r=Nt,46===h.charCodeAt(Nt)?(t=st,Nt++):(t=p,0===Dt&&Ht(lt));if(t!==p){for(e=[],er.test(h.charAt(Nt))?(n=h.charAt(Nt),Nt++):(n=p,0===Dt&&Ht(nr));n!==p;)e.push(n),er.test(h.charAt(Nt))?(n=h.charAt(Nt),Nt++):(n=p,0===Dt&&Ht(nr));e!==p?(Rt=r,t=ft(e),r=t):(Nt=r,r=p)}else Nt=r,r=p;return r}())===p&&(e=null),e!==p?(Rt=r,r=t=it(t,e)):(Nt=r,r=p)):(Nt=r,r=p),r}function oe(){var r,t,e;return r=Nt,h.substr(Nt,4)===ht?(t=ht,Nt+=4):(t=p,0===Dt&&Ht(pt)),t!==p&&ie()!==p&&(e=ne())!==p&&ie()!==p?(Rt=r,r=t=dt(e)):(Nt=r,r=p),r}function ie(){var r,t,e,n,u;for(Dt++,r=[],t=Nt,(e=he())!==p?(n=Nt,Dt++,u=he(),Dt--,u===p?n=void 0:(Nt=n,n=p),n!==p?t=e=[e,n]:(Nt=t,t=p)):(Nt=t,t=p),t===p&&(t=fe())===p&&(t=le())===p&&(t=se());t!==p;)r.push(t),t=Nt,(e=he())!==p?(n=Nt,Dt++,u=he(),Dt--,u===p?n=void 0:(Nt=n,n=p),n!==p?t=e=[e,n]:(Nt=t,t=p)):(Nt=t,t=p),t===p&&(t=fe())===p&&(t=le())===p&&(t=se());return Dt--,r===p&&(t=p,0===Dt&&Ht(gt)),r}function se(){var r;return h.substr(Nt,10)===At?(r=At,Nt+=10):(r=p,0===Dt&&Ht(vt)),r}function le(){var r,t,e,n,u,c;if(Dt++,r=Nt,h.substr(Nt,2)===Ct?(t=Ct,Nt+=2):(t=p,0===Dt&&Ht(mt)),t!==p){for(e=[],u=n=Nt,Dt++,c=he(),Dt--,c===p?u=void 0:(Nt=u,u=p),u!==p?(h.length>Nt?(c=h.charAt(Nt),Nt++):(c=p,0===Dt&&Ht(yt)),c!==p?n=u=[u,c]:(Nt=n,n=p)):(Nt=n,n=p);n!==p;)e.push(n),u=n=Nt,Dt++,c=he(),Dt--,c===p?u=void 0:(Nt=u,u=p),u!==p?(h.length>Nt?(c=h.charAt(Nt),Nt++):(c=p,0===Dt&&Ht(yt)),c!==p?n=u=[u,c]:(Nt=n,n=p)):(Nt=n,n=p);e!==p?((n=he())===p&&(n=pe()),n!==p?r=t=[t,e,n]:(Nt=r,r=p)):(Nt=r,r=p)}else Nt=r,r=p;return Dt--,r===p&&(t=p,0===Dt&&Ht(bt)),r}function fe(){var r;return Dt++,32===h.charCodeAt(Nt)?(r=Vr,Nt++):(r=p,0===Dt&&Ht(Wr)),r===p&&(9===h.charCodeAt(Nt)?(r=wt,Nt++):(r=p,0===Dt&&Ht(Ft))),Dt--,r===p&&(p,0===Dt&&Ht(xt)),r}function he(){var r;return Dt++,h.substr(Nt,2)===Et?(r=Et,Nt+=2):(r=p,0===Dt&&Ht(St)),r===p&&(10===h.charCodeAt(Nt)?(r=Tt,Nt++):(r=p,0===Dt&&Ht($t)),r===p&&(13===h.charCodeAt(Nt)?(r=Mt,Nt++):(r=p,0===Dt&&Ht(Lt)))),Dt--,r===p&&(p,0===Dt&&Ht(kt)),r}function pe(){var r,t,e;return t=r=Nt,Dt++,h.length>Nt?(e=h.charAt(Nt),Nt++):(e=p,0===Dt&&Ht(yt)),Dt--,e===p?t=void 0:(Nt=t,t=p),t!==p&&(Rt=r,t=jt()),r=t}function de(r,t,e,n){return{type:r,title:t,stem:e,hasEmbeddedAnswers:n}}if((t=n())!==p&&Nt===h.length)return t;throw t!==p&&Nt<h.length&&Ht({type:"end"}),Ot(Pt,qt<h.length?h.charAt(qt):null,qt<h.length?Gt(qt,qt+1):Gt(qt,qt))}peg$subclass(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(r,t){var e,c={literal:function(r){return'"'+u(r.text)+'"'},class:function(r){var t,e="";for(t=0;t<r.parts.length;t++)e+=r.parts[t]instanceof Array?a(r.parts[t][0])+"-"+a(r.parts[t][1]):a(r.parts[t]);return"["+(r.inverted?"^":"")+e+"]"},any:function(r){return"any character"},end:function(r){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function u(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+n(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+n(r)})}function a(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+n(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+n(r)})}return"Expected "+function(r){var t,e,n,u=new Array(r.length);for(t=0;t<r.length;t++)u[t]=(n=r[t],c[n.type](n));if(u.sort(),0<u.length){for(e=t=1;t<u.length;t++)u[t-1]!==u[t]&&(u[e]=u[t],e++);u.length=e}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(r)+" but "+((e=t)?'"'+u(e)+'"':"end of input")+" found."},module.exports={SyntaxError:peg$SyntaxError,parse:peg$parse};
